<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <title>Session 4 [SOFT]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <link rel="alternate" type="application/rss+xml" title="SOFT News" href="/soft/_feed/news" />

  <meta name="generator" content="DokuWiki Release 2009-12-25c &quot;Lemming&quot;" />
<meta name="robots" content="index,follow" />
<meta name="date" content="2011-11-09T09:58:35+0100" />
<meta name="keywords" content="edu,dp,dpsession4" />
<link rel="search" type="application/opensearchdescription+xml" href="/soft/lib/exe/opensearch.php" title="SOFT" />
<link rel="start" href="/soft/" />
<link rel="contents" href="/soft/edu/dp/dpsession4?do=index" title="Index" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/soft/feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="/soft/feed.php?mode=list&amp;ns=edu:dp" />
<link rel="alternate" type="text/html" title="Plain HTML" href="/soft/_export/xhtml/edu/dp/dpsession4" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="/soft/_export/raw/edu/dp/dpsession4" />
<link rel="canonical" href="http://soft.vub.ac.be/soft/edu/dp/dpsession4" />
<link rel="stylesheet" media="all" type="text/css" href="/soft/lib/exe/css.php?s=all&amp;t=soft&amp;tseed=1285573448" />
<link rel="stylesheet" media="screen" type="text/css" href="/soft/lib/exe/css.php?t=soft&amp;tseed=1285573448" />
<link rel="stylesheet" media="print" type="text/css" href="/soft/lib/exe/css.php?s=print&amp;t=soft&amp;tseed=1285573448" />
<script type="text/javascript" charset="utf-8" ><!--//--><![CDATA[//><!--
var NS='edu:dp';var JSINFO = {"id":"edu:dp:dpsession4","namespace":"edu:dp"};
//--><!]]></script>
<script type="text/javascript" charset="utf-8" src="/soft/lib/exe/js.php?tseed=1285573448" ></script>

  <!-- Dynamic menu -->
  <script language="javascript" type="text/javascript" charset="utf-8" src="/soft/lib/tpl/soft/menu.js"></script>

  <link rel="shortcut icon" href="/soft/lib/tpl/soft/images/favicon.ico" />

  </head>

<body onload="window.defaultStatus='Vrije Universiteit Brussel';toggleToc();" id="vrije-universiteit-brussel">

<div class="dokuwiki">
  
<!-- VUB header template-->
<a name="top" id="top"></a>
<!-- Container table-->
<table align="center">
  <tr>
    <td><div id="container">
        <!-- Page Header -->
        <div id="pageheader">
          <!--h1>
            <span>Vrije Universiteit Brussel</span-->
            <div id="pageheadermenu">
              <ul>
                <li><a href="http://www.vub.ac.be/english/">Home</a></li>
                <li><a href="http://www.vub.ac.be/english/home/search.html">Search</a></li>
                <li><a href="http://aivpc41.vub.ac.be/englwho/index.phtml">Who is who</a></li>
                <li><a href="http://www.vub.ac.be/english/home/organizationchart/index.html">Organization chart </a></li>

                <li><a href="http://www.vub.ac.be/home/webmaster.html">Webmaster</a></li>
                <li><a href="http://www.vub.ac.be/">Dutch pages </a></li>
              </ul>
            </div>
            <div id="softheader">
            </div>
            <div id="softheaderlogo"></div>
            <div id="softheadertitle">
              <a href="/soft/"><img id="softlogotext" src="/soft/lib/tpl/soft/images/softlogotextsmall.png" alt="Software Languages Lab" onMouseOver="document.getElementById('softlogotext').src='/soft/lib/tpl/soft/images/softlogotextsmall-inverted.png';" onMouseOut="document.getElementById('softlogotext').src='/soft/lib/tpl/soft/images/softlogotextsmall.png';"></a>
            </div>
            <div class="pagename">
              <!-- [[<a href="/soft/edu/dp/dpsession4?do=backlink" >edu:dp:dpsession4</a>]] -->
            </div>
          <!--/h1-->
        </div>
        <!-- End Page Header -->
        <!-- Body: table with 2 colomns-->
        <table border="0" align="left">

          <tr>
            <td align="left" valign="top"><!-- Menu left (1st colomn)-->
              <div id="menu">
                                                <div class="sidebar">
                  
<p>
<strong>General Info</strong>

</p>
<ul>
<li class="level1"><div class="li"> <a href="/soft/" class="wikilink2" rel="nofollow">About</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/contact" class="wikilink1" title="contact">Contact</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/members/start" class="wikilink1" title="members:start">Members</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/news" class="wikilink1" title="news">News</a></div>
</li>
</ul>

<p>

<strong>Research</strong>

</p>
<ul>
<li class="level1"><div class="li"> <a href="/soft/research/start" class="wikilink1" title="research:start">Topics</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/research/artifacts" class="wikilink1" title="research:artifacts">Artifacts</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/research/events" class="wikilink1" title="research:events">Events</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.vub.ac.be/infovoor/onderzoekers/research/team_pub.php?team_code=SOFT" class="urlextern" title="http://www.vub.ac.be/infovoor/onderzoekers/research/team_pub.php?team_code=SOFT"  rel="nofollow">Publications</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/research/dissertations" class="wikilink1" title="research:dissertations">Dissertations</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/research/projects" class="wikilink1" title="research:projects">Projects</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/research/grants" class="wikilink1" title="research:grants">Grants</a></div>
</li>
</ul>

<p>

<strong>Education</strong>

</p>
<ul>
<li class="level1"><div class="li"> <a href="/soft/edu/teaching" class="wikilink1" title="edu:teaching">Teaching</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/edu/thesis/start" class="wikilink1" title="edu:thesis:start">Thesis proposals</a></div>
</li>
<li class="level1"><div class="li"> <a href="/soft/edu/mscprojects" class="wikilink1" title="edu:mscprojects">Project Proposals</a></div>
</li>
</ul>

<p>

<strong>Internal</strong>

</p>
<ul>
<li class="level1"><div class="li"> <a href="/soft/intranet/start" class="wikilink1" title="intranet:start">Intranet</a></div>
</li>
</ul>
                                      <ul>
                      <li><div class="li"><a href="/soft/edu/dp/dpsession4?do=index"  class="action index" accesskey="x" rel="nofollow">Index</a></div></li>
                      <li><div class="li"><a href="/soft/edu/dp/dpsession4?do=recent"  class="action recent" accesskey="r" rel="nofollow">Recent changes</a></div></li>
                    </ul>
                                  </div><!-- sidebar -->
              </div><!-- menu-->
              <!-- End Menu left-->
            </td>

            <td align="left" valign="top"><!-- Content block right (2nd colomn) -->
              <div id="content">
              <!-- content -->
<!-- End VUB header template -->

  <div class="stylehead">

    
    
  </div>
  
  
  
  <div class="page">
    <!-- wikipage start -->
    <!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="#session_4" class="toc">Session 4</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#question_1cut_and_backtracking" class="toc">Question 1: Cut and Backtracking</a></span></div>
<ul class="toc">
<li class="level3"><div class="li"><span class="li"><a href="#summary" class="toc">Summary</a></span></div></li>
</ul>
</li>
<li class="level2"><div class="li"><span class="li"><a href="#question_2exercises_and_problems_with_cuts" class="toc">Question 2: Exercises and Problems with Cuts</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#question_3cuts_and_logical_expressions" class="toc">Question 3: Cuts and Logical Expressions</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#question_4cut_and_negation_as_failure" class="toc">Question 4: Cut and Negation as Failure</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#question_5and_finally" class="toc">Question 5: And Finally</a></span></div></li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->



<h1><a name="session_4" id="session_4">Session 4</a></h1>
<div class="level1">

</div>

<h2><a name="question_1cut_and_backtracking" id="question_1cut_and_backtracking">Question 1: Cut and Backtracking</a></h2>
<div class="level2">

<p>

The cut-operator is a powerfull feature if you know what you are doing. Therefore you have to know possible problems and consequences of using cut in your programs. Read these exercises carefully and do not hesitate to ask something in case you have problems and/or questions. We start with an example.
</p>

<p>
Consider the following mathematical function: 
</p>
<pre class="code">
f(x) = 0        if X &lt; 3
f(x) = 2        if 3 =&lt; X &lt; 6
f(x) = 4        if X &gt;= 6
</pre>

<p>
1) Implement it in prolog without using cut. Trace the query
</p>
<pre class="code">
?- f(1,Y),2&lt;Y.
</pre>

<p>
The &#039;cut&#039;-operator is a way to prevent backtracking on useless paths in the searchspace. In the definition of f we see that it is useless to try the second branch when a previous one already succeeded. The reason is that the conditions in f are disjunctive. The &#039;cut&#039;-operator in prolog, denoted !, will prevent searching for alternatives from the moment a solution is found. 
</p>

<p>
2) The following implementation of the same function is more efficient, as it uses cuts to exploit the disjunction of the domains for X:
</p>
<pre class="code">
f(X,0) :- X &lt; 3, !.
f(X,2) :- 3 =&lt; X, X &lt; 6, !.
f(X,4) :- 6 =&lt; X, !.
</pre>

<p>
Trace the query of 1 again. 
</p>

<p>
3) We can simplify the implementation by changing the order of the rules:
</p>
<pre class="code">
f(X,0) :- X &lt; 3, !.
f(X,2) :- X &lt; 6, !.
f(X,4).
</pre>

<p>
However, this program is not completely equivalent with the previous. Give an example of a query that fails with the two previous implementations, but succeeds with the current one. 
</p>

<p>
4) Check if the following implementation is equivalent with the first two ones.
</p>
<pre class="code">
f(X,Y) :- X &lt; 3, !, Y=0.
f(X,Y) :- X &lt; 6, !, Y=2.
f(X,4).
</pre>

<p>
The previous examples illustrate that we have two kinds of cuts, green and red ones. Green cuts are safe in the sense that they can be dropped without changing the declarative meaning of the program. On the other hand, red cuts cannot be dropped without changing the meaning of the program.
</p>

<p>
5) Check for all previous implementations which kind of cut is used. In other words, if the cuts are dropped, do you get the exact, not considering efficiency, the same program or not?
</p>

</div>

<h3><a name="summary" id="summary">Summary</a></h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Working of cut:</div>
<ul>
<li class="level2"><div class="li"> The cut splits up the body of a rule in two parts. For each part backtracking is done seperately. From the moment the part before the cut succeeds, no backtracking will be done for that part and we stick to the first found solution. For the part after the cut, backtracking is done as usual.</div>
</li>
<li class="level2"><div class="li"> When a goal is unified with the head of a rule that contains a cut in the body, this goal cannot be unified with the head of other rules from the moment the cut is reached, i.e. we stick to our already made choices.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Green cuts can be used to prevent prolog to backtrack on useless paths in the searchspace, i.e. paths which will not lead to any solutions. Thus a green cut does not change the declarative meaning of the program.</div>
</li>
<li class="level1"><div class="li"> Red cuts can be used to eliminate redundant conditions in mutual exclusive rules. However, they change the declarative meaning of the program, so the program gets harder to read. Therefore, try to use red cuts as little as possible, i.e. only when a big efficiency boost can be reached. </div>
</li>
</ul>

</div>

<h2><a name="question_2exercises_and_problems_with_cuts" id="question_2exercises_and_problems_with_cuts">Question 2: Exercises and Problems with Cuts</a></h2>
<div class="level2">

<p>

The predicate <code>merge(List1,List2,Result)</code> merges two sorted lists together, resulting in a new sorted list.

</p>
<ol>
<li class="level1"><div class="li"> Implement this predicate without using cut.</div>
</li>
<li class="level1"><div class="li"> Implement this predicate again using green cuts to exploit the mutual exclusive character of the tests.</div>
</li>
<li class="level1"><div class="li"> Trace the following query with your implementation. ?- merge([1,3,5],[2,3],X).</div>
</li>
<li class="level1"><div class="li"> Give a more efficient implementation using a red cut.</div>
</li>
<li class="level1"><div class="li"> Trace the query again with your new implementation.</div>
</li>
<li class="level1"><div class="li"> Consider the following implementation of the merge-predicate:</div>
</li>
</ol>
<pre class="code">
merge([X|Xs],[Y|Ys],[X|M]):-
	X &lt; Y,
	!,
	merge(Xs,[Y|Ys],M).
merge([X|Xs],[Y|Ys],[X,Y|M]):-
	X = Y,
	!,
	merge(Xs,Ys,M).
merge([X|Xs],[Y|Ys],[Y|M]):-
	!,
	merge([X|Xs],Ys,M).
merge([],Ys,Ys):-
	!.
merge(Xs,[],Xs):-
	!.
</pre>

<p>
This implementation uses red cuts in a wrong way. Search the mistake and correct it by using red cuts.
</p>

<p>
The predicate <code>split(Numbers,Positive,Negative)</code> splits up a list of numbers in a list of positive numbers (including 0) and a list of negative numbers.

</p>
<ol>
<li class="level1"><div class="li"> Implement this predicate without using cut.</div>
</li>
<li class="level1"><div class="li"> Implement this predicate again using cuts. Do you use a green or a red cut?</div>
</li>
<li class="level1"><div class="li"> Consider the following implementation of the split predicate:</div>
</li>
</ol>
<pre class="code">
split([],[],[]).
split([X|L],[X|L1],L2):-
	X &gt;= 0,
	!,
	split(L,L1,L2).
split([X|L],L1,[X|L2]):-
	number(X),
	split(L,L1,L2).
</pre>

<p>
This implementation uses red cuts in a wrong way. Search the mistake and correct it by using correct green cuts. Also try to write a solution using red cuts.
</p>

<p>
The predicate <code>minimum(X,Y,Min)</code> calculates the minimum of two numbers.

</p>
<ol>
<li class="level1"><div class="li"> Implement this predicate without using cut.</div>
</li>
<li class="level1"><div class="li"> Implement this predicate again using green cuts.</div>
</li>
<li class="level1"><div class="li"> Try to find an implementation using red cuts.</div>
</li>
<li class="level1"><div class="li"> Test your red cut implementation with the following query: ?- minimum(2,5,5). Is your answer correct? If not, fix your solution so it works correctly.</div>
</li>
</ol>

</div>

<h2><a name="question_3cuts_and_logical_expressions" id="question_3cuts_and_logical_expressions">Question 3: Cuts and Logical Expressions</a></h2>
<div class="level2">

<p>

Write equivalent logical expressions for the following logical programs:
</p>
<pre class="code">
1) p :- a,b.
   p :- c.
</pre>
<pre class="code">
2) p :- a,!,b.
   p :- c.
</pre>
<pre class="code">
3) p :- c.
   p :- a,!,b.
</pre>

<p>
Are the cuts used in 2 or 3 green or red with respect to the code in 1. 
</p>

</div>

<h2><a name="question_4cut_and_negation_as_failure" id="question_4cut_and_negation_as_failure">Question 4: Cut and Negation as Failure</a></h2>
<div class="level2">

<p>

Prolog does not have classical negation but negation as failure (naf). This means that not p(X) is true if prolog fails to proof p(X). As it can take infinitely long to proof that something is not provable, prolog uses a bounded version of naf. We can implement the not operator ourselves, using cuts: 
</p>
<pre class="code">
not(P) :- P,!,fail.
not(P).
</pre>

<p>
Use negation as failure to solve the following questions:

</p>
<ol>
<li class="level1"><div class="li"> Define a predicate <code>set_diff(Set1,Set2,SetDif)</code> that computes the difference of two sets</div>
</li>
<li class="level1"><div class="li"> Define a predicate <code>unifyable(List1,Term,List2)</code> such that List2 contains all elements from List1 which correspond with Term, but are not instantiated by it.</div>
</li>
</ol>

</div>

<h2><a name="question_5and_finally" id="question_5and_finally">Question 5: And Finally</a></h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Write a predicate, as efficient as possible, to find a solution for the “eight queens”-problem.</div>
</li>
<li class="level1"><div class="li"> Implement the findall-predicate yourself.</div>
</li>
</ol>

</div>

    <!-- wikipage stop -->
      </div>

  <div class="clearer">&nbsp;</div>

  
<!-- VUB footer template -->
            </div>
            </td>
            <!-- End Content block right (2nd colomn) -->
          </tr>
        </table>
        <!-- Body table -->

  <div class="stylefoot">

    <div class="meta">
      <div class="user">
              </div>
      <div class="doc">
        edu/dp/dpsession4.txt &middot; Last modified: 09.11.2011 09:58 by jvallejo      </div>
    </div>

   
    <div class="bar" id="bar_bottom">
      <div class="bar-left" id="bar_bottomleft">
        <form class="button btn_source" method="post" action="/soft/edu/dp/dpsession4"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="submit" value="Show pagesource" class="button" accesskey="v" title="Show pagesource [V]" /></div></form>        <form class="button btn_revs" method="get" action="/soft/edu/dp/dpsession4"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>        <form action="/soft/" accept-charset="utf-8" class="search" id="dw__search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>      </div>
      <div class="bar-right" id="bar_bottomright">
                                <form class="button btn_login" method="get" action="/soft/edu/dp/dpsession4"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="39761cfa2e177fd9c66d19ab016f1abf" /><input type="submit" value="Login" class="button" title="Login" /></div></form>        &nbsp;
      </div>
    </div>

  </div>

        <!-- VUB Contact-->

        <div id="__contact">
          <p>&copy; 2011 &bull; Software Languages Lab &bull; Submit comments and bugs to <a href="https://soft.vub.ac.be/bugzilla/query.cgi?product=Website">our Bugzilla</a> or to the <a href="mailto:webmaster@soft.vub.ac.be">webmaster</a></p>

        </div>

      </div>
      <!--container-->
    </td>
  </tr>
  <!-- End Container table-->
</table>
<!-- End VUB footer template -->

</div>

<div class="no"><img src="/soft/lib/exe/indexer.php?id=edu%3Adp%3Adpsession4&amp;1323945987" width="1" height="1" alt=""  /></div>
</body>
</html>
